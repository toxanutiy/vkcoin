(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t){},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);a(98),a(123);var n=a(0),r=a.n(n),l=a(49),s=a.n(l),c=a(29),i=a.n(c),o=a(51),u=a.n(o),p=a(93),m=a(52),h=a(30),d=a(31),f=a(33),b=a(32),y=a(34),E=a(10),g=a(1),v=a(94),x=a.n(v),S=(a(145),a(95)),I=a.n(S),k=(a(175),function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.upgrades;return Object.keys(e).map(function(t){return r.a.createElement(g.Group,{key:t,style:{height:"60px",borderRadius:"20px",marginLeft:"10px",textAlign:"center"}},r.a.createElement(g.Div,{className:"upgrade",style:{width:"185px"}},r.a.createElement("span",{className:"name"},e[t].name," (x",e[t].amount,")"),r.a.createElement("br",null),r.a.createElement("span",{className:"mine"},e[t].mine,"/\u0441\u0435\u043a")))})}}]),t}(r.a.Component)),j=a(50),O=a.n(j),w=a(96),D=a.n(w),N=I()("https://vkcoinadad.tk:8080",{secure:!0}),C=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).click=function(){a.setState(function(e){return{user:Object(m.a)({},e.user,{balance:e.user.balance+1})}})},a.openShop=function(){a.setState({popout:r.a.createElement(g.PopoutWrapper,null,r.a.createElement(g.Group,{style:{width:"100%",height:"84%",marginTop:"39%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px"}},r.a.createElement(g.Div,null,r.a.createElement(g.Header,{aside:r.a.createElement(O.a,{onClick:a.closeShop})},r.a.createElement("span",{style:{fontWeight:"700"}},"\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f")),r.a.createElement("hr",null),r.a.createElement("div",{style:{overflow:"auto",maxHeight:400}},r.a.createElement(D.a,{itemRenderer:a.renderShopItem,length:a.state.user.shop.length,type:"uniform"})))))})},a.closeShop=function(){a.setState({popout:null})},a.buyItem=function(){var e=Object(p.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.user.shop[t],!(parseInt(a.state.user.balance)<parseInt(n.price))){e.next=3;break}return e.abrupt("return");case 3:return a.setState({buyItem:!0}),e.next=6,N.emit("buyItem",t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activePanel:"spinner",user:null,popout:null,buyItem:!1,error:null,online:0},a.openShop=a.openShop.bind(Object(E.a)(Object(E.a)(a))),a.renderShopItem=a.renderShopItem.bind(Object(E.a)(Object(E.a)(a))),a}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.subscribe(function(e){e.detail.type,console.log(e.detail.type)}),N.emit("auth",window.location.search),N.on("setUser",function(t){e.setState({user:t,activePanel:"main"})}),N.on("buysItem",function(t){e.setState({user:t,buyItem:!1}),null===e.state.popout||e.state.buyItem||e.openShop()}),N.on("errorConnect",function(t){e.setState({error:t})}),N.on("online",function(t){e.setState({online:t})}),setInterval(function(){null===e.state.user||e.state.buyItem||N.emit("setScore",e.state.user.balance)},500),setInterval(function(){null===e.state.popout||e.state.buyItem||e.openShop()},1e3),setInterval(function(){null!==e.state.user&&e.setState(function(t){return{user:Object(m.a)({},t.user,{balance:t.user.balance+e.state.user.auto})}})},1e3)}},{key:"renderShopItem",value:function(e,t){var a=this;return r.a.createElement("div",{key:t},r.a.createElement(g.Group,{className:"shop"},r.a.createElement(g.Div,{className:"upgrade"},r.a.createElement("span",{className:"name"},this.state.user.shop[t].name),r.a.createElement("span",{className:"name",style:{float:"right"}},"+",this.state.user.shop[t].mine,"/\u0441\u0435\u043a"),r.a.createElement("br",null),r.a.createElement(g.Button,{disabled:parseFloat(this.state.user.balance)<parseFloat(this.state.user.shop[t].price),onClick:function(){return a.buyItem(t)},style:{marginTop:"10px"}},"\u041a\u0443\u043f\u0438\u0442\u044c \u0437\u0430 ",this.state.user.shop[t].price)),r.a.createElement("hr",null)))}},{key:"render",value:function(){return null!==this.state.user?r.a.createElement(g.View,{popout:this.state.popout,header:!1,activePanel:this.state.activePanel},r.a.createElement(g.Panel,{id:"main"},r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(g.Header,{level:"2"},"\u0412\u0430\u0448 \u0441\u0447\u0451\u0442"),r.a.createElement("span",{className:"balance"},this.state.user.balance),r.a.createElement(g.Div,null,r.a.createElement(g.Button,null,"\u0422\u043e\u043f"),r.a.createElement(g.Button,{style:{marginLeft:"10px"}},"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438"),r.a.createElement(g.Button,{onClick:this.openShop,style:{marginLeft:"10px"}},"\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f"))),r.a.createElement("hr",null),r.a.createElement(g.Header,{level:"2"},"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438: ",this.state.user.auto,"/\u0441\u0435\u043a"),0===Object.keys(this.state.user.upgrades).length?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(g.Button,{style:{width:"80%",height:"50px"},onClick:this.openShop},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f")):r.a.createElement(g.HorizontalScroll,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(k,{upgrades:this.state.user.upgrades}))),r.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},r.a.createElement("span",null,"\u041e\u043d\u043b\u0430\u0439\u043d: ",this.state.online," \u0447\u0435\u043b.")),r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(g.Button,{onClick:this.click,className:"click"},"\u041a\u043b\u0438\u043a")))):null===this.state.error?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(x.a,null)):"platform"===this.state.error.type?r.a.createElement("div",{style:{textAlign:"center",padding:"5px",marginTop:"100px"}},r.a.createElement("span",{style:{fontSize:"25px",fontWeight:"700"}},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435")):"2acc"===this.state.error.type?r.a.createElement("div",{style:{textAlign:"center",padding:"5px",marginTop:"100px"}},r.a.createElement("span",{style:{fontSize:"25px",fontWeight:"700"}},"\u0412\u044b \u0443\u0436\u0435 \u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435\u0441\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0441 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430")):void 0}}]),t}(r.a.Component);i.a.send("VKWebAppInit",{}),s.a.render(r.a.createElement(C,null),document.getElementById("root"))},97:function(e,t,a){e.exports=a(176)}},[[97,1,2]]]);
//# sourceMappingURL=main.17215aa9.chunk.js.map